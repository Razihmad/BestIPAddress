{% extends "base.html" %}
{% load static %}
{% block title %}
Home
{% endblock title %}
{% block content %}

{% for message in messages %}
<script>
  alert('{{message}}')
</script>
{% endfor %}
{% for message in messages %}
  <h3 class="text-center">{{message}}</h3>
{% endfor %}
<div class="content">
  <aside class="ipgen">
    <form action="" method="POST">
      {% csrf_token %}
      <label for="city">
        <h3>Select Your City :</h3>
      </label> <br>
      <select name="city" id="city">
        {% for city in cities %}
        <option value={{city.name}}>{{city.name}}</option>
        {% endfor %}
      </select>
      <br><br>

      <br>
      <h3>Enter Max Fraud Score :</h3>
      <div class="form-floating mb-4">
        <input type="number" name="fraud_s" class="form-control fsco" id="floatingInput" autofocus required
          placeholder="Enter Max Fraud Score" min="0" max="100" style="height: 47px
          ;">
        <label for="floatingInput">Enter Max Fraud Score</label>
      </div> <br> <br>
      <input type="submit" class="btn btn-primary" value="Generate IP">
    </form>
  </aside>
  <aside class="details">
    <table id="example" class="table table-striped table-bordered" style="width:100%">
      <thead>
        <tr>
          <th><b>Serial No.</b></th>
          <th><b> IP</b></th>
          <th><b> City </b></th>
          <th><b>Session ID </b> </th>
          <th><b>Score </b></th>
          <th><b>Time Zone</b></th>
          <th><b>Login</b></th>
        </tr>
      </thead>
      <tbody>
        {% for ip in ips %}
        <tr>
          <td>{{ip.pk}}</td>
          <td>{{ip.ip}}</td>
          <td>{{ip.city}}</td>
          <td>{{ip.session_id}}</td>
          <td>{{ip.score}}</td>
          <td>{{ip.timezone}}</td>
          <td>{{ip.login}}</td>
        </tr>

        {% endfor %}
      </tbody>
    </table>
    <div>

    </div>
  </aside>
  <script>
    $(document).ready(function () {
      $('#example').DataTable();
    });
  </script>
</div>
{% endblock content %}